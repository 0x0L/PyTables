=======================================
 Release notes for PyTables 2.3 series
=======================================

:Author: PyTables maintainers
:Contact: pytables@googlemail.com


Changes from 2.3.1 to 2.4 (in development)
==========================================

New features
------------

- Improved HDF5 error logging management:

  * added a new function, :func:`tables.silenceHDF5Messages`, for suppressing
    (and re-enabling) HDF5 messages.  By default HDF5 error logging is now
    suppressed. Closes :issue:`87`.
  * now all HDF5 error messages and trace-backs are trapped and attached to
    the :exc:`HDF5ExtError` exception instances. Closes :issue:`120`.

- Added support for the float16 data type.  It is only available if numpy_
  provides it as well (i.e. numpy_ >= 1.6).  See :issue:`51`.

- Leaf nodes now have attributes for retrieving the size of data in memory
  and on disk.  Data on disk can be compressed, so the new attributes make it
  easy to compute the data compression ration.
  Thanks to Josh Ayers (close :issue:`141`).

- The maximum number of threads for Blosc_ and Numexpr_ is now handled using
  the :data:`tables.parameters.MAX_BLOSC_THREADS` and
  :data:`tables.parameters.MAX_NUMEXPR_THREADS` parameters respectively.
  This allows a more fine grained configuration capability.
  Closes :issue:`142`.

- `ndim` (read-only) attribute added to :class:`tables.Leaf`,
  :class:`tables.Atom` and :class:`tables.Col` objects (closes :issue:`126`).

Other improvements
------------------

- Dropped support for HDF5 1.6.x. Now PyTables uses the HDF5 1.8 API
  (closes :issue:`105`).

- Blosc updated to v. 1.1.3.

- Improved bzip2 detection on Windows (:issue:`116`).  Thanks to cgohlke.

- For Windows, the setup.py script now has the ability to automatically find
  the HDF5_DIR in the system PATH.  Thanks to Mark (mwiebe).

- Improved multi-arch support in GNU/Linux platforms (closes :issue:`124`)
  Thanks to Julian Taylor and Picca Frederic-Emmanuel.

- Use new style syntax for exception raising. Closes :issue:`93`.

- Fixed most of the warnings related to py3k compatibility (see :issue:`92`).

- Fixed pyflakes warnings (closes :issue:`102`).

- Cython extensions updated to use new constructs (closes `issue:`100`).

- Reduced the number of build warnings (closes `issue:`101`).

- Removed the old lrucache module. It is no more needed after the merge with
  PyTables Pro (closes :issue:`118`).

- Added explicit (import time) testing for hdf5dll.dll on Windows to improve
  diagnostics (closes :issue:`146`).  Thanks to Mark (mwiebe).

Bugs fixed
----------

- Fixed a segfault on platforms that do not support unaligned memory access
  (closes: :issue:`134`).  Thanks to Julian Taylor.

- Fixed broken inheritance in :class:`tables.IsDescription` classes
  (thanks to Andrea Bedini).  Closes :issue:`65`.

- Fixed table descriptions copy method (closes :issue:`131`).

Deprecations
------------

- The :data:`tables.parameters.MAX_THREADS` configuration parameter is now
  deprecated.  Please use :data:`tables.parameters.MAX_BLOSC_THREADS` and
  :data:`tables.parameters.MAX_NUMEXPR_THREADS` instead.
  See :issue:`142`.

.. _numpy: http://numpy.scipy.org
.. _Blosc: https://github.com/FrancescAlted/blosc
.. _Numexpr: http://code.google.com/p/numexpr


Changes from 2.3 to 2.3.1
=========================

- Fixed a bug that prevented to read scalar datasets of UnImplemented types
  (closes :issue:`111`). Thanks to Kamil Kisiel.

- Fixed a bug in `setup.py` that caused installation of PyTables 2.3 to fail
  on hosts with multiple python versions installed (closes :issue:`113`).
  Thanks to sbinet.


Changes from 2.2.1 to 2.3
=========================

Features coming from (now liberated) PyTables Pro
-------------------------------------------------

- OPSI is a powerful and innovative indexing engine allowing PyTables to
  perform fast queries on arbitrarily large tables. Moreover, it offers a wide
  range of optimization levels for its indexes so that the user can choose the
  best one that suits her needs (more or less size, more or less performance).
  Indexation code also takes advantage of the vectorization capabilities of
  the NumPy and Numexpr packages to ensure really short indexing and search
  times.

- A fine-tuned LRU cache for both metadata (nodes) and regular data that lets
  you achieve maximum speed for intensive object tree browsing during data
  reads and queries. It complements the already efficient cache present in
  HDF5, although this is more geared towards high-level structures that are
  specific to PyTables and that are critical for achieving very high
  performance.

Other changes
-------------

- Indexes with no elements are now evaluated as non-CSI ones.  Closes
  #312.

- Numexpr presence is tested now in setup.py, provided that user is not
  using setuptools (i.e. ``easy_install`` or ``pip`` tools).  When using
  setuptools, numexpr continues to be a requisite (and Cython too).
  Closes #298.

- Cython is enforced now during compilation time.  Also, it is not
  required when running tests.

- Repeatedly closing a file that has been reopened several times is
  supported now.  Closes #318.

- The number of times a file has been currently reopened is available
  now in the new `File.open_count` read-only attribute.

- The entire documentation set has been converted to sphinx (close
  :issue:`85` and :issue:`86`) that now also has an index
  (closes :issue`39`).

- The entire test suite has been updated to use unittest specific
  assertions (closes :issue:`66`).

- PyTables has been tested against the latest version of numpy (v. 1.6.1
  and 2.0dev) and Cython (v, 0.15) packages. Closes :issue:`84`.

- The setup.py script has been improved to better detect runtimes
  (closes :issue:`73`).

Deprecations
------------

Support for some old packages and related features has been deprecated
and will be removed in future versions:

- Numeric (closes :issue:`76`)
- numarray (closes :issue`76` and :issue:`75`)
- HDF5 1.6.x (closes :issue`96`)

At the API level the following are now deprecated:

- the tables.is_pro constant is deprecated because PyTables Pro
  has been released under an open source license.
- the netcdf3 sub-package (closes :issue:`67`)
- the nra sub-package


  **Enjoy data!**

  -- The PyTables Team


.. Local Variables:
.. mode: rst
.. coding: utf-8
.. fill-column: 72
.. End:
