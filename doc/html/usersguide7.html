<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:bib="http://bibtexml.org/STSCHEMA" xmlns:adr="http://tbookdtd.sourceforge.net/addressbook" xmlns:ref="http://tbookdtd.sourceforge.net/references" xmlns:index="http://tbookdtd.sourceforge.net/index" xmlns:dimensions="http://tbookdtd.sourceforge.net/dimension-file" xmlns:depths="http://tbookdtd.sourceforge.net/depths-file" xmlns:loc="local" xmlns:CSS="http://www.w3.org/1998/Style/CSS2" xmlns:pref="http://www.w3.org/2002/Math/preference" id="PyTablesInternalFormat"><a name="PyTablesInternalFormat"></a><head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>PyTables User's Guide</title><meta http-equiv="Content-Type" content="text/html"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="generator" content="The tbook system at http://tbookdtd.sourceforge.net"><meta name="robots" content="index"><meta name="DC.Title" content="PyTables User's Guide"><meta name="DC.Description" content="PyTables User's Guide Hierarchical datasets in Python Release 0.8"><meta name="DC.Creator" content="Francesc Alted"><meta name="Author" content="Francesc Alted"><meta name="DC.Creator" content="Scott Prater"><meta name="Author" content="Scott Prater"><meta name="DC.Date" content="2004-03-01T16:09:10+01:00"><meta name="Date" content="2004-03-01T16:09:10+01:00"><meta name="DC.Rights" content="(c) 2002, 2003, 2004 Francesc AltedCopyright Notice and Statement for PyTables Software Library and Utilities Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: 1. Redistributions of source code must retain the above copyright notice, this lis"><meta name="Copyright" content="(c) 2002, 2003, 2004 Francesc AltedCopyright Notice and Statement for PyTables Software Library and Utilities Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: 1. Redistributions of source code must retain the above copyright notice, this lis"><meta name="DC.Type" content="Text"><meta name="DC.Format" content="text/html"><meta name="DC.Language" scheme="rfc3066" content="en"><meta name="Language" content="en"><meta http-equiv="Content-Style-Type" content="text/css"><style type="text/css">
    body {
      font-family: serif; text-align: justify;
      margin: 0pt; line-height: 1.3; background-color: white; color: black }
    body.letter { background-image: none }
    h1, h2, h3, h4, h5, h6, div.partheadline, div.title,
      div.title-article {
      font-family: sans-serif; font-weight: bold; font-stretch: condensed;
      text-align: left; }
    h1, h2, h3, h4, h5, h6, div.partheadline { padding-left: 18pt }
    h1 { clear: both }
    h1.toc { clear: none }
    a:link, a:visited, a:active { text-decoration: none }
    a:hover { text-decoration: underline; color: #0066FF; }
    div.document, div.letter { margin-left: 80px; margin-right: 150px;
      padding-top: 3ex; padding-bottom: 5ex }
    div.authorlist { font-family: sans-serif;
      font-stretch: condensed; text-align: left; font-size: x-large;
      margin-bottom: 1ex }
    div.authorlist-article { font-size: x-large; text-align: center;
      margin-bottom: 2ex }
    div.title { font-size: xx-large; color: gray; margin-bottom: 5ex; }
    div.title-article { font-size: xx-large; text-align: center;
      margin-bottom: 1ex }
    div.date-article { font-size: large; text-align: center;
      margin-bottom: 5ex }
    div.subtitle { text-align: left; margin-bottom: 3ex }
    div.legal { text-align: right }
    div.legalnotice { margin-top: 3ex; text-align: left }
    div.partheadline { font-size: xx-large; margin-top: 1ex; margin-bottom: 1ex }
    div.footnote { }
    hr.footnoterule { text-align: left; width: 20%; color: black }
    div.mathdisplay { text-align: center;
    margin-top: 2ex; margin-bottom: 2ex }
    div.figure, div.table, div.mathml-remark { margin-bottom: 3ex;
            margin-top: 2ex}
    div.mathml-remark { width: 50%; text-align: left; text-indent: 0pt }
    div.caption { margin-top: 1ex; width: 20em}
    div.caption-text { font-size: small;
      padding-left: 1em; text-indent: -1em; text-align: left}
    caption { max-width: 100%; min-width: 200px; margin-bottom: 1ex;
      text-align: left }
    div.verse { white-space: pre; margin-left: 2em;
      margin-top: 2ex; margin-bottom: 2ex }
    div.toc { margin-bottom: 6ex }
    div.biblio { }
    div.index { width: 100% }
    div.aphorism { margin-bottom: 2ex; font-style: italic; text-align: right;
      margin-left: 50%}
    div.aphorism-origin { margin-top: 1ex }
    div.letter { }
    div.subject { margin-top: 3ex; margin-bottom: 3ex }
    div.opening { margin-top: 3ex; margin-bottom: 3ex }
    div.closing { margin-top: 3ex; text-align: right }
    div.to { margin-top: 3ex; margin-bottom: 3ex }
    span.subject { font-weight: bold }
    div.speedbar-top, div.speedbar-bottom { margin-left: 1em; margin-right: 1em }
    div.speedbar-top { margin-top: 2ex }
    div.speedbar-bottom { margin-bottom: 3ex }
    table.speedbar { width: 100% }
    hr.speedbar { clear: both }
    div.theorem-plain, div.theorem-definition, div.theorem-remark { margin-top: 2ex;
      margin-bottom: 2ex }
    div.theorem-plain { font-style: italic }
    div.proof { margin-top: 2ex; margin-bottom: 2ex }
    span.theorem-head-plain, span.theorem-head-definition, span.theorem-head-remark
      { margin-right: 0.66em }
    span.theorem-head-plain, span.theorem-head-definition
      { font-style: normal; font-weight: bold }
    span.theorem-head-remark { font-style: italic }
    span.proof-head { font-style: italic; margin-right: 0.66em }
    acronym { font-size: 95%; letter-spacing: 0.1em; text-transform: uppercase }
    td.header { text-align: center; font-weight: bold }
    table.toc { }
    table.tabular { font-size: smaller }
    td.thickline { height: 0pt; border-bottom: medium solid; padding: 2px }
    td.thinline { height: 0pt; border-bottom: thin solid;   padding: 2px }
     /* FixMe: Following definition Still bad */
    div.part-toc { margin-top: 2ex; font-weight: bold; font-size: larger }
     /* FixMe: Following definition: How cleaner? */
    div.toplevel-toc { margin-top: 1ex; font-weight: bold }
    td.number1 { width: 1.5em }
    td.number2 { width: 2em }
    td.number3 { width: 3em }
    td.author { text-align: center; width: 50% }
    div { }  /* Must remain empty! */
    span.captionlabel { font-family: sans-serif; font-weight: bold;
      margin-right: 0.66em }
    span.captionlabel:after { content: " " }
    b.captionlabel {  }
    b.captionlabel:after { content: " " }
    span.headlinenumber { margin-right: 0.66em }
    tt.verb {font-family: monospace }
    span.bibtag { font-weight: bold; margin-right: 1em }
    span.bib-author { }
    span.bib-lastname { font-variant: small-caps }
    span.bib-title { font-style: italic }
    span.bib-booktitle { }
    span.bib-journal { }
    span.bib-journal-volume { font-weight: bold }
    span.bib-publisher { }
    span.bib-school { }
    span.bib-year { }
    span.bib-note { }
    span { } /* Muss leer bleiben! */
    li.bibitem { margin-left: 1em; text-indent: -1em }
    img.graphics { border: 0pt }
    p,div.p { margin: 0pt; text-indent: 18pt }
    ul, dl, ol { text-indent: 0pt; }
    p.first, div.p-first { margin: 0pt; text-indent: 0pt }
    p.bibitem { margin-top: 1.5ex; margin-left: 3em; text-indent: -3em }
    ul.biblio { list-style: none }
    mi.ch { font-style: normal }
    math[display="block"], div.equation {
      margin-top: 1ex; margin-bottom: 1ex }
    div.i-lettergroup { font-size: larger; font-weight: bold; padding-left: 18pt;
      margin-top: 3ex; margin-bottom: 1.5ex }
    div.i-item { }
    div.i-main { }
    dt { display: compact; font-weight: bold }
    dd { text-indent: 0pt }
    pre { text-indent: 0pt }
    span.i-see { font-style: italic; }

h1 { color: red }
h2 { color: olive }
h3 { color: navy }
h4 { color: maroon }
body { /* background-image: url("tile.jpg"); */  /* Per a imprimir millor */
 font: 14px/1.5 Verdana, Arial, Helvetica, sans-serif;
 background:#fff;
 padding:5%;
 padding-top:2%;
 margin:0px;
}
/*     body { background-image: url("tile.jpg");
         background-color: white;
         color: black;
	 font-size: 13pt; } */
hr.footnoterule { color: white }
div.title { font-size: x-large; color: maroon }
div.subtitle { font-size: x-large; color: olive }
div.title-article { font-size: x-large }
div.partheadline { font-size: x-large }
</style></head><body><div class="speedbar-top"><table class="speedbar"><tbody><tr><td style="text-align: left; width: 15%"><a href="usersguide6.html">previous</a></td><td style="text-align: center"><a href="usersguide.html#tb:table-of-contents">Table of Contents</a></td><td style="text-align: right; width: 15%"><a href="usersguide8.html">next</a></td></tr><tr><td class="header" colspan="3">Appendix</td></tr></tbody></table><hr class="speedbar"></div><div class="document"><div id="PyTablesInternalFormat"><a name="PyTablesInternalFormat"></a>
	<h1 id="chapterB"><a name="chapterB"></a>Appendix&nbsp;B: <tt>PyTables</tt> File
	  Format</h1>

	<p class="first"><tt class="verb">PyTables</tt> has a powerful capability to deal
	  with native HDF5 files created with another tools. However,
	  there are situations were you may want to create truly
	  native <tt class="verb">PyTables</tt> files with those tools while
	  retaining fully compatibility with <tt class="verb">PyTables</tt>
	  format. That is perfectly possible, and in this appendix is
	  presented the format that you should endow to your
	  own-generated files in order to get a fully
	  <tt class="verb">PyTables</tt> compatible file.
	</p>

	<p>We are going to describe the <b>1.2
	  version of <tt class="verb">PyTables</tt> file format</b>
	  (introduced in <tt class="verb">PyTables</tt> version 0.8). At this
	  stage, this file format is considered stable enough to do
	  not introduce significant changes during a reasonable
	  amount of time. As times goes by, some changes will be
	  introduced (and documented here) in order to cope with new
	  necessities. However, the changes will be carefully analyzed
	  so as to ensure backward compatibility whenever is possible.
	</p>

	<p>A <tt class="verb">PyTables</tt> file is composed with arbitrarily
	  large amounts of HDF5 groups (<tt class="verb">Groups</tt> in
	  <tt class="verb">PyTables</tt> naming scheme) and datasets
	  (<tt class="verb">Leaves</tt> in <tt class="verb">PyTables</tt> naming
	  scheme). For groups, the only requirements are that they
	  must have some <em>system attributes</em> available. By
	  convention, system attributes in <tt class="verb">PyTables</tt> are
	  written in upper case, and user attributes in lower case but
	  this is not enforced by the software. In the case of
	  datasets, besides the mandatory system attributes, some
	  conditions are further needed in their storage layout, as
	  well as in the datatypes used in there, as we will see
	  shortly.
	</p>

	<p>As a final remark, you can use any filter as you want to
	  create a <tt class="verb">PyTables</tt> file, provided that the
	  filter is a standard one in HDF5, like <em>zlib</em>,
	  <em>shuffle</em> or <em>szip</em> (although the last one
	  cannot be used from within <tt class="verb">PyTables</tt> to create a
	  new file, datasets compressed with szip can be read, because
	  it is the HDF5 library which do the decompression
	  transparently).
	</p>

	<div>
	  <h2 id="sectionB.1"><span class="headlinenumber"><a name="sectionB.1"></a>B.1 </span>Mandatory attributes for a <tt>File</tt></h2>

	  <p class="first">The <tt class="verb">File</tt> object is, in fact, an special HDF5
	    <em>group</em> structure that is <em>root</em> for the
	    rest of the objects on the object tree. The next
	    attributes are mandatory for the HDF5 <em>root group</em>
	    structure in <tt class="verb">PyTables</tt> files:
	  </p>

	  <dl>
	    <dt>CLASS</dt> <dd>This attribute should always be
	    set to <tt class="verb">'GROUP'</tt> for group structures.</dd>
	    <dt>PYTABLES_FORMAT_VERSION</dt> <dd>It represents
	    the internal format version, and currently should be set
	    to the <tt class="verb">'1.2'</tt> string.</dd>
	    <dt>TITLE</dt> <dd>A string where the user can put
	    some description on what is this group used for. </dd>
	    <dt>VERSION</dt> <dd>Should contains the string
	    <tt class="verb">'1.0'</tt>.</dd>
	  </dl>

	</div>
	<div>
	  <h2 id="sectionB.2"><span class="headlinenumber"><a name="sectionB.2"></a>B.2 </span>Mandatory attributes for a <tt>Group</tt></h2>

	  <p class="first">The next attributes are mandatory for <em>group</em>
	    structures:
	  </p>

	  <dl>
	    <dt>CLASS</dt> <dd>This attribute should always be
	    set to <tt class="verb">'GROUP'</tt> for group structures.</dd>
	    <dt>TITLE</dt> <dd>A string where the user can put
	    some description on what is this group used for. </dd>
	    <dt>VERSION</dt> <dd>Should contains the string
	    <tt class="verb">'1.0'</tt>.</dd>
	  </dl>

	  <p>There exist a special <tt class="verb">Group</tt>, called the
	    <em>root</em>, that, in addition to the attributes listed
	    above, it requires the next one:
	  </p>

	  <dl>
	    <dt>PYTABLES_FORMAT_VERSION</dt> <dd>It represents
	    the internal format version, and currently should be set
	    to the <tt class="verb">'1.2'</tt> string.</dd>
	  </dl>

	</div>

	<div>
	  <h2 id="sectionB.3"><span class="headlinenumber"><a name="sectionB.3"></a>B.3 </span>Mandatory attributes, storage layout and supported
	      datatypes for <tt>Leaves</tt>
	      </h2>

	  <p class="first">This depends on the kind of <tt class="verb">Leaf</tt>. The
	    format for each type follows.
	  </p>

	  <div id="TableFormatDescr"><a name="TableFormatDescr"></a>
	    <h3 id="subsectionB.3.1"><span class="headlinenumber"><a name="subsectionB.3.1"></a>B.3.1 </span><tt>Table</tt>
	    format</h3>

	    <div>
	      <h4 id="subsubsectionB.3.1.1">Mandatory attributes</h4>

	      <p class="first">The next attributes are mandatory for <em>table</em>
		structures:
	      </p>

	      <dl>
		<dt>CLASS</dt> <dd>Must be set to
		  <tt class="verb">'TABLE'</tt>.</dd>

		<dt>TITLE</dt> <dd>A string where the user can
		  put some description on what is this dataset used
		  for. </dd>

		<dt>VERSION</dt> <dd>Should contain the string
		  <tt class="verb">'2.1'</tt>.</dd>

		<dt>FIELD_X_NAME</dt> <dd>It contains the names
		  of the different fields. The <tt class="verb">X</tt> means
		  the number of the field (beware, order do
		  matter). You should add as many attributes of this
		  kind as fields you have in your records.
		</dd>

		<dt>NROWS</dt> <dd>This should contain the
		  number of <em>compound</em> datatype entries in the
		  dataset. It must be an <em>int</em> datatype.</dd>
	      </dl>

	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.1.2">Storage Layout</h4>

	      <p class="first">A <tt class="verb">Table</tt> has a <em>dataspace</em> with a
		<em>1-dimensional chunked</em> layout.
	      </p>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.1.3">Datatypes supported</h4>

	      <p class="first">The datatype of the elements (rows) of
		<tt class="verb">Table</tt> must be the H5T_COMPOUND
		<em>compound</em> datatype, and each of these compound
		components must be built with only the next HDF5
		datatypes <em>classes</em>:
	      </p>

	      <dl>
		<dt>H5T_BITFIELD</dt> <dd>This class is used to
		  represent the <tt class="verb">Bool</tt> type. Such a type
		  must be build using a H5T_NATIVE_B8 datatype,
		  followed by a HDF5 <tt class="verb">H5Tset_precision</tt>
		  call to set its precision to be just 1 bit.
		</dd>
		<dt>H5T_INTEGER</dt> <dd>This includes the next
		  datatypes:
		  <dl>
		    <dt>H5T_NATIVE_SCHAR</dt> <dd>This
		      represents a <em>signed char</em> C type, but it
		      is effectively used to represent an
		      <tt class="verb">Int8</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_UCHAR</dt> <dd>This
		      represents an <em>unsigned char</em> C type, but
		      it is effectively used to represent an
		      <tt class="verb">UInt8</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_SHORT</dt> <dd>This
		      represents a <em>short</em> C type, and
		      it is effectively used to represent an
		      <tt class="verb">Int16</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_USHORT</dt> <dd>This
		      represents an <em>unsigned short</em> C type, and
		      it is effectively used to represent an
		      <tt class="verb">UInt16</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_INT</dt> <dd>This represents
		      an <em>int</em> C type, and it is effectively
		      used to represent an <tt class="verb">Int32</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_UINT</dt> <dd>This
		      represents an <em>unsigned int</em> C type, and
		      it is effectively used to represent an
		      <tt class="verb">UInt32</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_LONG</dt> <dd>This represents
		      a <em>long</em> C type, and it is effectively
		      used to represent an <tt class="verb">Int32</tt> or an
		      <tt class="verb">Int64</tt>, depending on whether you are
		      running a 32-bit or 64-bit architecture.
		    </dd>
		    <dt>H5T_NATIVE_ULONG</dt> <dd>This
		      represents an <em>unsigned long</em> C type, and
		      it is effectively used to represent an
		      <tt class="verb">UInt32</tt> or an <tt class="verb">UInt64</tt>,
		      depending on whether you are running a 32-bit or
		      64-bit architecture.
		    </dd>
		    <dt>H5T_NATIVE_LLONG</dt> <dd>This
		      represents a <em>long long</em> C type
		      (<tt class="verb">__int64</tt>, if you are using a
		      Windows system) and it is effectively
		      used to represent an <tt class="verb">Int64</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_ULLONG</dt> <dd>This
		      represents an <em>unsigned long long</em> C type
		      (beware: this type does not have a
		      correspondence on Windows systems) and it is
		      effectively used to represent an
		      <tt class="verb">UInt64</tt> type.
		    </dd>
		  </dl>
		</dd>	
		<dt>H5T_FLOAT</dt> <dd>This includes the next
		  datatypes:
		  <dl>
		    <dt>H5T_NATIVE_FLOAT</dt> <dd>This
		      represents a <em>float</em> C type and it is
		      effectively used to represent an
		      <tt class="verb">Float32</tt> type.
		    </dd>
		    <dt>H5T_NATIVE_DOUBLE</dt> <dd>This
		      represents a <em>double</em> C type and it is
		      effectively used to represent an
		      <tt class="verb">Float64</tt> type.
		    </dd>
		  </dl>
		</dd>
		<dt>H5T_STRING</dt> <dd>The datatype used to
		  describe strings in PyTables is H5T_C_S1 (i.e. a
		  <em>string</em> C type) followed with a call to the
		  HDF5 <tt class="verb">H5Tset_size()</tt> function to set
		  their length.
		</dd>
		<dt>H5T_ARRAY</dt> <dd>This allows the
		  construction of homogeneous, multi-dimensional
		  arrays, so that you can include such objects in
		  compound records. The types supported as elements of
		  H5T_ARRAY datatypes are the ones described
		  above. Currently, PyTables<tt class="verb"></tt> does not
		  support nested H5T_ARRAY types.
		</dd>
	      </dl>
	      
	      <p>You should note that <em>nested compound</em>
		datatypes are not allowed in <tt class="verb">Table</tt>
		objects.
	      </p>

	    </div>

	  </div>	

	  <div id="ArrayFormatDescr"><a name="ArrayFormatDescr"></a>
	    <h3 id="subsectionB.3.2"><span class="headlinenumber"><a name="subsectionB.3.2"></a>B.3.2 </span><tt>Array</tt>
	      format</h3>

	    <div>
	      <h4 id="subsubsectionB.3.2.1">Mandatory attributes</h4>

	      <p class="first">The next attributes are mandatory for <em>array</em>
		structures:
	      </p>

	      <dl>
		<dt>CLASS</dt> <dd>Must be set to
		  <tt class="verb">'ARRAY'</tt>.
		</dd>

		<dt>FLAVOR</dt> <dd>This is meant to provide the
		  information about the kind of object kept in the
		  <tt class="verb">Array</tt>, i.e. when the dataset is read,
		  it will be converted to the indicated flavor. It can
		  take one the next string values:

		  <dl>
		    <dt>"NumArray"</dt> <dd>The dataset will be
		      returned as a <tt class="verb">NumArray</tt> object (from
		      the <tt class="verb">numarray</tt> package).
		    </dd>
		    <dt>"CharArray"</dt> <dd>The dataset will be
		      returned as a <tt class="verb">CharArray</tt> object
		      (from the <tt class="verb">numarray</tt> package).
		    </dd>
		    <dt>"Numeric"</dt> <dd>The dataset will be
		      returned as an <tt class="verb">array</tt> object
		      (from the <tt class="verb">Numeric</tt> package).
		    </dd>
		    <dt>"List"</dt> <dd>The dataset will be
		      returned as a Python <tt class="verb">List</tt> object.
		    </dd>
		    <dt>"Tuple"</dt> <dd>The dataset will be
		      returned as a Python <tt class="verb">Tuple</tt> object.
		    </dd>
		    <dt>"Int"</dt> <dd>The dataset will be
		      returned as a Python <tt class="verb">Int</tt>
		      object. This is meant mainly for scalar
		      (i.e. without dimensions) integer values.
		    </dd>
		    <dt>"Float"</dt> <dd>The dataset will be
		      returned as a Python <tt class="verb">Float</tt>
		      object. This is meant mainly for scalar
		      (i.e. without dimensions) floating point values.
		    </dd>
		    <dt>"String"</dt> <dd>The dataset will be
		      returned as a Python <tt class="verb">String</tt>
		      object. This is meant mainly for scalar
		      (i.e. without dimensions) string values.
		    </dd>
		  </dl>
		</dd>

		<dt>TITLE</dt> <dd>A string where the user can
		  put some description on what is this dataset used
		  for.
		</dd>

		<dt>VERSION</dt> <dd>Should contain the string
		  <tt class="verb">'2.0'</tt>.
		</dd>
	      </dl>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.2.2">Storage Layout</h4>

	      <p class="first">An <tt class="verb">Array</tt> has a <em>dataspace</em> with a
		<em>N-dimensional contiguous</em> layout (if you
		prefer a <em>chunked</em> layout see
		<tt class="verb">EArray</tt> below).
	      </p>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.2.3">Datatypes supported</h4>

	      <p class="first">The elements of <tt class="verb">Array</tt> must have HDF5
		<em>atomic</em> datatypes, and can currently be one of
		the next HDF5 datatypes <em>classes</em>:
		H5T_BITFIELD, H5T_INTEGER, H5T_FLOAT and
		H5T_STRING. See the <tt class="verb">Table</tt> format
		description in <a href="#TableFormatDescr">section&nbsp;B.3.1</a> for more info
		about these types.
	      </p>
	      
	      <p>You should note that H5T_ARRAY class datatypes are
		not allowed in <tt class="verb">Array</tt> objects.
	      </p>
	    </div>
	  </div>	

	  <div id="EArrayFormatDescr"><a name="EArrayFormatDescr"></a>
	    <h3 id="subsectionB.3.3"><span class="headlinenumber"><a name="subsectionB.3.3"></a>B.3.3 </span><tt>EArray</tt>
	      format</h3>

	    <div>
	      <h4 id="subsubsectionB.3.3.1">Mandatory attributes</h4>

	      <p class="first">The next attributes are mandatory for <em>earray</em>
		structures:
	      </p>

	      <dl>
		<dt>CLASS</dt> <dd>Must be set to
		  <tt class="verb">'EARRAY'</tt>.
		</dd>

		<dt>EXTDIM</dt> <dd>(<em>Integer</em>) Must be
		  set to the extensible dimension. Only one extensible
		  dimension is supported right now.
		</dd>

		<dt>FLAVOR</dt> <dd>This is meant to provide the
		  information about the kind of objects kept in the
		  <tt class="verb">EArray</tt>, i.e. when the dataset is read,
		  it will be converted to the indicated flavor. It can
		  take the same values as the <tt class="verb">Array</tt>
		  object (see <a href="#ArrayFormatDescr">B.3.2</a>),
		  except <tt class="verb">"Int"</tt> and <tt class="verb">"Float"</tt>.

		</dd>
		<dt>TITLE</dt> <dd>A string where the user can
		  put some description on what is this dataset used
		  for.
		</dd>

		<dt>VERSION</dt> <dd>Should contain the string
		  <tt class="verb">'1.0'</tt>.
		</dd>

	      </dl>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.3.2">Storage Layout</h4>

	      <p class="first">An <tt class="verb">EArray</tt> has a <em>dataspace</em> with
		a <em>N-dimensional chunked</em> layout.
	      </p>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.3.3">Datatypes supported</h4>

	      <p class="first">The elements of <tt class="verb">EArray</tt> must have HDF5
		<em>atomic</em> datatypes, and can currently be one of
		the next HDF5 datatypes <em>classes</em>:
		H5T_BITFIELD, H5T_INTEGER, H5T_FLOAT and
		H5T_STRING. See the <tt class="verb">Table</tt> format
		description in <a href="#TableFormatDescr">section&nbsp;B.3.1</a> for more info
		about these types.
	      </p>
	      
	      <p>You should note that H5T_ARRAY class datatypes are
		not allowed in <tt class="verb">EArray</tt> objects.
	      </p>
	    </div>
	  </div>	

	  <div id="VLArrayFormatDescr"><a name="VLArrayFormatDescr"></a>
	    <h3 id="subsectionB.3.4"><span class="headlinenumber"><a name="subsectionB.3.4"></a>B.3.4 </span><tt>VLArray</tt>
	      format</h3>

	    <div>
	      <h4 id="subsubsectionB.3.4.1">Mandatory attributes</h4>

	      <p class="first">The next attributes are mandatory for
		<em>vlarray</em> structures:
	      </p>

	      <dl>
		<dt>CLASS</dt> <dd>Must be set to
		  <tt class="verb">'VLARRAY'</tt>.
		</dd>

		<dt>FLAVOR</dt> <dd>This is meant to provide the
		  information about the kind of objects kept in the
		  <tt class="verb">VLArray</tt>, i.e. when the dataset is read,
		  it will be converted to the indicated flavor. It can
		  take one of the next values:

		  <dl>
		    <dt>"NumArray"</dt> <dd>The elements in
		      dataset will be returned as
		      <tt class="verb">NumArray</tt> objects (from the
		      <tt class="verb">numarray</tt> package).
		    </dd>
		    <dt>"CharArray"</dt> <dd>The elements in
		      dataset will be returned as
		      <tt class="verb">CharArray</tt> objects (from the
		      <tt class="verb">numarray</tt> package).
		    </dd>
		    <dt>"String"</dt> <dd>The elements in the
		      dataset will be returned as Python
		      <tt class="verb">String</tt> objects of <em>fixed</em>
		      length (and not as <tt class="verb">CharArrays</tt>).
		    </dd>
		    <dt>"Numeric"</dt> <dd>The elements in the
		      dataset will be returned as
		      <tt class="verb">array</tt> objects (from the
		      <tt class="verb">Numeric</tt> package).
		    </dd>
		    <dt>"List"</dt> <dd>The elements in the
		      dataset will be returned as Python
		      <tt class="verb">List</tt> objects.
		    </dd>
		    <dt>"Tuple"</dt> <dd>The elements in the
		      dataset will be returned as Python
		      <tt class="verb">Tuple</tt> objects.
		    </dd>
		    <dt>"Object"</dt> <dd>The elements in the
		      dataset will be interpreted as pickled
		      (i.e. serialized objects through the use of the
		      <tt class="verb">Pickle</tt> Python module) objects and
		      returned as Python <em>generic</em>
		      objects. Only one of such objects will be
		      supported per entry. As the <tt class="verb">Pickle</tt>
		      module is not normally available in other
		      languages, this flavor won't be useful in
		      general.
		    </dd>
		    <dt>"VLString"</dt> <dd>The elements in the
		      dataset will be returned as Python
		      <tt class="verb">String</tt> objects of <em>any</em>
		      length, with the twist that <b>Unicode</b> strings are
		      supported as well (provided you use the <b>UTF-8</b> codification, see
		      below). However, only one of such objects will
		      be supported per entry.
		    </dd>
		  </dl>
		</dd>

		<dt>TITLE</dt> <dd>A string where the user can
		  put some description on what is this dataset used
		  for.
		</dd>

		<dt>VERSION</dt> <dd>Should contain the string
		  <tt class="verb">'1.0'</tt>.
		</dd>

	      </dl>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.4.2">Storage Layout</h4>

	      <p class="first">An <tt class="verb">VLArray</tt> has a <em>dataspace</em> with
		a <em>1-dimensional chunked</em> layout. 
	      </p>
	    </div>

	    <div>
	      <h4 id="subsubsectionB.3.4.3">Datatypes supported</h4>

	      <p class="first">The datatype of the elements (rows) of
		<tt class="verb">VLArray</tt> objects must be the H5T_VLEN
		<em>variable-length</em> (or VL for short) datatype,
		and the base datatype specified for the VL datatype
		can be of any <em>atomic</em> HDF5 datatype that is
		listed in the <tt class="verb">Table</tt> format <a href="#TableFormatDescr">description
		section&nbsp;B.3.1</a>. That includes the classes:
	      </p>
	      <ul>
		<li>H5T_BITFIELD</li>
		<li>H5T_INTEGER</li>
		<li>H5T_FLOAT</li>
		<li>H5T_STRING</li>
		<li>H5T_ARRAY</li>
	      </ul>
	      <p>You should note that this does not include another VL
		datatype, or compound datatype. Note as well that, for
		<tt class="verb">Object</tt> and <tt class="verb">VLString</tt>
		special flavors, the base for the VL datatype is
		always a H5T_NATIVE_UCHAR. That means that the
		complete row entry in the dataset has to be used in
		order to fully serialize the object or the variable
		length string.
	      </p>
	      <p>In addition, if you plan to use a
		<tt class="verb">VLString</tt> flavor for your text data and
		you are using ascii-7 (7 bits ASCII) codification for
		your strings, but you don't know (or just don't want)
		to convert it to the required UTF-8 codification, you
		should not worry too much about that because the ASCII
		characters with values in the range [0x00, 0x7f] are
		directly mapped to Unicode characters in the range
		[U+0000, U+007F] and the UTF-8 encoding has the useful
		property that an UTF-8 encoded ascii-7 string is
		indistinguishable from a traditional ascii-7 string.
		So, you will not need any further conversion in order
		to save your ascii-7 strings and have an
		<tt class="verb">VLString</tt> flavor.
	      </p>

	    </div>
	  </div>	

	</div> 

      </div></div><div class="speedbar-bottom"><hr class="speedbar"><table class="speedbar"><tbody><tr><td style="text-align: left; width: 15%"><a href="usersguide6.html">previous</a></td><td style="text-align: center"><a href="usersguide.html#tb:table-of-contents">Table of Contents</a></td><td style="text-align: right; width: 15%"><a href="usersguide8.html">next</a></td></tr></tbody></table></div></body></html>